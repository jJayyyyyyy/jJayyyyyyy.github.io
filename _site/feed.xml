<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>FrozenMap</title>
    <description></description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 19 Nov 2016 21:05:22 +0800</pubDate>
    <lastBuildDate>Sat, 19 Nov 2016 21:05:22 +0800</lastBuildDate>
    <generator>Jekyll v3.3.0</generator>
    
      <item>
        <title>Unix_Network_Programming_笔记</title>
        <description>&lt;p&gt;今天开始啃Unix Network Programming Volume 1, Third Edition: The Sockets Networking API. 传说UNP是一本神书。英文版有1024页，看来要啃好久…&lt;/p&gt;

&lt;p&gt;看了看前言，还好能看懂。其实在这部分就有许多有意思的内容。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Aloha nui loa&lt;/p&gt;

    &lt;p&gt;2003年这一版的UNP，是基于&lt;code class=&quot;highlighter-rouge&quot;&gt;W. Richard Stevens&lt;/code&gt;的著作改进的。他老人家在1999年逝世(R.I.P.)。本书在&lt;strong&gt;Copyright&lt;/strong&gt;一节的最后有一个&lt;strong&gt;Dedication&lt;/strong&gt;，是对这位科学家的致敬，使用的祝福是&lt;strong&gt;Aloha nui load&lt;/strong&gt;:&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;https://static1.squarespace.com/static/55724a5be4b03d8a8c853678/55724e1fe4b0ee3a75ad8ff1/557e5a85e4b06b6897c0f00a/1434344069648/SPS-Aloha+nui+loa-01.jpg?format=1500w&quot; alt=&quot;Aloha nui loa&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;从&lt;a href=&quot;https://jacobmurdock.com/jacob-murdock/aloha-nui-loa/&quot;&gt;这里&lt;/a&gt;查到，这是夏威夷原住民的方言，&lt;code class=&quot;highlighter-rouge&quot;&gt;Aloha&lt;/code&gt;代表了问好、和平、爱等等，日用也可以近似于法语&lt;code class=&quot;highlighter-rouge&quot;&gt;Bonjour&lt;/code&gt;(你好)。&lt;code class=&quot;highlighter-rouge&quot;&gt;nui loa&lt;/code&gt;可以理解为英文中的&lt;code class=&quot;highlighter-rouge&quot;&gt;very much&lt;/code&gt;。所以连起来可以理解为对他老人家的祝福与怀念。&lt;/p&gt;

    &lt;p&gt;除此以外，由Gary R. Wright代为照理的Stevens的&lt;a href=&quot;http://www.kohala.com/start/&quot;&gt;主页&lt;/a&gt;地址中的&lt;code class=&quot;highlighter-rouge&quot;&gt;Kohala&lt;/code&gt;也是夏威夷的一个岛名。夏威夷，应当是个神奇的地方吧。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;recipes, 菜谱&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;W. Richard Stevens&lt;/code&gt;自己也是个非常有趣的人(吃货)。他的&lt;a href=&quot;http://www.kohala.com/start/&quot;&gt;网站&lt;/a&gt;上，除了介绍生平之外，还专门摆放了一个栏目，叫做&lt;a href=&quot;http://www.kohala.com/start/recipes/recipes.html&quot;&gt;菜谱&lt;/a&gt;:&lt;/p&gt;

    &lt;blockquote&gt;
      &lt;p&gt;And you thought I only wrote computer books? During the 1980s, while working at HSI in Connecticut, I did a lot of baking on the weekends, probably as a stress reliever from working at a startup, and also because I am a confirmed chocoholic. On Monday morning I would always take in to work what was left over, often finding people waiting in the coffee room for me.&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;大致意思就是，他喜欢用做饭(烘培)来缓解压力，另外他也非常喜欢巧克力。每当他星期一来上班，周围的同事总是虎视眈眈地看着他。别担心，这不是因为有啥深仇大恨，只是大家对着他带来的点心咽口水罢了(ˉ﹃ˉ)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这么看来，UNP这本神书啃起来味道应该不错。接下来，就让我们开始食用正餐吧。说不定里面还隐藏了其他的菜谱呢^3^&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Unix Network Programming Volume 1, Third Edition: The Sockets Networking API&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://jacobmurdock.com/jacob-murdock/aloha-nui-loa/&quot;&gt;JacobMurdock-Aloha Nui Loa&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.kohala.com/start/&quot;&gt;W. Richard Stevens’ Home Page&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 17 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/17/Unix_Network_Programming_note01.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/17/Unix_Network_Programming_note01.html</guid>
        
        
      </item>
    
      <item>
        <title>翻译：Game Off Theme Announcement</title>
        <description>&lt;p&gt;这是&lt;strong&gt;翻译&lt;/strong&gt;系列的第一篇文章。原文来自 &lt;a href=&quot;https://github.com/blog/2274-game-off-theme-announcement&quot;&gt;Game Off Theme Announcement&lt;/a&gt;，发布于2016年11月02日。以下是译文。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/121322/19498019/d8827370-9543-11e6-82d8-6da822b6147b.png&quot; alt=&quot;GitHub Game Jam&quot; /&gt;&lt;/p&gt;

&lt;p&gt;几周之前，我们对GitHub独家特供的GGJ进行了&lt;a href=&quot;https://github.com/blog/2262-github-s-game-jam-game-off-returns-next-month&quot;&gt;宣传&lt;/a&gt;。今天，我们将公布本届GGJ的主题，比赛也将即刻开始，各位老司机准备出发吧！
(注: GGJ, GitHub Game Jam, 是一个类似于hackathon的游戏开发马拉松，一般在每年11月举办，为期一个月。)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;挑战&lt;/h3&gt;

&lt;hr /&gt;

&lt;p&gt;本届GGJ将基于以下三个关键词展开：&lt;code class=&quot;highlighter-rouge&quot;&gt;黑客技术(hacking)&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;新颖炫酷(modding)&lt;/code&gt;， &lt;code class=&quot;highlighter-rouge&quot;&gt;(现实)增强(augmenting)&lt;/code&gt;. 戴德兰先生将在月底到来，因此各位开发者将有一个月的时间来进行游戏制作。&lt;/p&gt;

&lt;p&gt;需要说明的是，主题可以扩展，筒子们可以根据以上关键词大胆YY。举几个栗子，大家可以搞这么些玩意儿:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;一个不断奔跑的小人，用打了码的(像素化比较萌)斧子砍倒沿路的二叉树&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;一个现代人穿着远古时期的套装，出现在3D或者VR世界&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;利用增强现实，把章鱼猫带进现实世界&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果你觉得自己的脑洞更有创意更加新颖，那就赶快行动参加比赛吧！你既可以单干，也可以团战，开发平台和设备可以随意。另外，我们鼓励使用开源的游戏引擎和游戏库进行开发。当然了，这不是强制性要求。&lt;/p&gt;

&lt;p&gt;我们将从中选出选出最有意思的游戏，放在GitHub的&lt;a href=&quot;https://github.com/blog/&quot;&gt;官方博客&lt;/a&gt;上，让全世界的G友们都有机会欣赏你的创意，并能从中学习或为你们的项目做出贡献。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;如何参赛？&lt;/h3&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;如果你还没注册G站，点&lt;a href=&quot;https://github.com/signup/free&quot;&gt;这里&lt;/a&gt;进行注册&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;从&lt;a href=&quot;https://github.com/github/game-off-2016&quot;&gt;github/game-off-2016&lt;/a&gt;创建你自己的分支(fork)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;将项目克隆到本地并进行开发&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在12月1日之前将所有代码推送到你的分支仓库&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;更新说明文件&lt;code class=&quot;highlighter-rouge&quot;&gt;README.md&lt;/code&gt;，内容包括游戏描述、游戏玩法。另外该文件也需要告诉读者如何下载、如何构建、如何编译，依赖关系如何等&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;最后，填写并提交&lt;a href=&quot;https://gameoff.wufoo.com/forms/game-off-2016/&quot;&gt;这个表格&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;获取帮助&lt;/h3&gt;

&lt;hr /&gt;

&lt;p&gt;神马，你还没有听说过Git, GitHub, 版本控制…？没关系，入门很简单，你只需要:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;阅读&lt;a href=&quot;https://git-scm.com/documentation&quot;&gt;Git文档&lt;/a&gt;，从中你会知道关于版本控制和Git的一切内容&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;阅读&lt;a href=&quot;https://help.github.com/&quot;&gt;GitHub指南&lt;/a&gt;，从中你会得知所有关于GitHub的内容&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果遇到问题，可以联系我们友善的&lt;a href=&quot;https://github.com/contact?form%5Bsubject%5D=GitHub%20Game%20Off&quot;&gt;技术支持团队&lt;/a&gt;。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果有针对本次比赛的问题，欢迎提交到&lt;a href=&quot;https://github.com/github/game-off-2016/issues/new&quot;&gt;官方的问答区&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;最后，你也可以在Twitter上用&lt;code class=&quot;highlighter-rouge&quot;&gt;#ggo16&lt;/code&gt;标明主题参加讨论。我们已经迫不及待想要试玩这一大波新鲜的游戏了~&lt;/p&gt;

&lt;p&gt;GLHF!&amp;lt;3 (good luck &amp;amp; have fun ≈ gggl, 开心最重要么么大)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;(END)&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;section-3&quot;&gt;相关阅读&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.douban.com/note/265646157/&quot;&gt;2012的Github Game Off&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.jianshu.com/p/a776a3e75dd5&quot;&gt;Global Game Jam的体验和分享&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jianzi0307.github.io/2014/01/13/game-jam-e6-b1-82-e7-94-9f-e6-89-8b-e5-86-8c/&quot;&gt;GAME JAM 求生手册&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/tpai/6da413c2c8f082982c2a&quot;&gt;Global Game Jam 2015 台中會場行前通知&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 15 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/15/Game_Off_Theme_Announcement.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/15/Game_Off_Theme_Announcement.html</guid>
        
        
      </item>
    
      <item>
        <title>FFMPEG学习笔记</title>
        <description>&lt;h2 id=&quot;section&quot;&gt;音频&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;剪切音乐&lt;/p&gt;

    &lt;p&gt;比如有一首好听的歌，我们想把它作为铃声。但是整首歌太长，要截取最好听的那一段，就可以借助&lt;code class=&quot;highlighter-rouge&quot;&gt;ffmpeg&lt;/code&gt;。根据&lt;a href=&quot;https://segmentfault.com/a/1190000000414341&quot;&gt;参考资料1&lt;/a&gt;，如果是作用在视频上，需要的参数是截取部分的开始时间&lt;code class=&quot;highlighter-rouge&quot;&gt;start_time&lt;/code&gt;和结束时间&lt;code class=&quot;highlighter-rouge&quot;&gt;stop_time&lt;/code&gt;，单位是秒。【注意，&lt;a href=&quot;https://segmentfault.com/a/1190000000414341&quot;&gt;参考资料1&lt;/a&gt;中原文的&lt;code class=&quot;highlighter-rouge&quot;&gt;剪切&lt;/code&gt;一节，可能会由楼主所用起止时间变量名引起误解，具体说明可见链接中&lt;code class=&quot;highlighter-rouge&quot;&gt; @_ljj110719&lt;/code&gt;的回复】&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ffmpeg -i input.mp4 -ss **START_TIME** -to **STOP_TIME** -acodec copy -vcodec copy output.mp4
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;其中，参数&lt;code class=&quot;highlighter-rouge&quot;&gt;-to&lt;/code&gt;表示定位到某个时间点，如果换成&lt;code class=&quot;highlighter-rouge&quot;&gt;-t&lt;/code&gt;则表示持续时间。&lt;/p&gt;

    &lt;p&gt;实践发现，以上方法同样可以作用在音频上。假设我们要截取的音乐是&lt;code class=&quot;highlighter-rouge&quot;&gt;I_do.mp3&lt;/code&gt;，从&lt;code class=&quot;highlighter-rouge&quot;&gt;00:00:25&lt;/code&gt;到&lt;code class=&quot;highlighter-rouge&quot;&gt;00:01:25&lt;/code&gt;的片段，也就是从&lt;code class=&quot;highlighter-rouge&quot;&gt;25&lt;/code&gt;秒到&lt;code class=&quot;highlighter-rouge&quot;&gt;85&lt;/code&gt;秒。由于现在我们只需要音频(audio)，因此可以不要后面的&lt;code class=&quot;highlighter-rouge&quot;&gt;-vcodec copy&lt;/code&gt;。所以我们的目标可以用如下命令实现:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ffmpeg -i I_do.mp3 -ss 25 -to 85 -acodec copy I_do__snippet.mp3
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section-1&quot;&gt;视频&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;分离音频和图像&lt;/p&gt;

    &lt;p&gt;参考用途: 去掉美剧中的视频，仅保留音频，用于听力练习。方便携带，同时减小体积。假设要处理的视频是&lt;code class=&quot;highlighter-rouge&quot;&gt;input_video.mp4&lt;/code&gt;，输出音频保存为&lt;code class=&quot;highlighter-rouge&quot;&gt;output_audio.mp3&lt;/code&gt;，则:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ ffmpeg -i input_video.mp4 -vn -ab 256 output_audio.mp3
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;(不断更新)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;参考&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000414341&quot;&gt;通过 ffmpeg 无损剪切/拼接视频&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.labnol.org/internet/useful-ffmpeg-commands/28490/&quot;&gt;Useful FFmpeg Commands&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sun, 13 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/13/notes_of_learning_ffmpeg.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/13/notes_of_learning_ffmpeg.html</guid>
        
        
      </item>
    
      <item>
        <title>使用python获取天气预报</title>
        <description>&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;工具：python3.4 (配合 &lt;code class=&quot;highlighter-rouge&quot;&gt;re&lt;/code&gt; 或 &lt;code class=&quot;highlighter-rouge&quot;&gt;BeautifulSoup&lt;/code&gt;)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;目标：获取天气预报，内容包括【时间】+【天气】+【气温】&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/jJayyyyyyy/cs/tree/master/just%20for%20fun/weather&quot;&gt;代码参考&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;有了之前的&lt;a href=&quot;https://jjayyyyyyy.github.io/2016/10/30/36kr_newsflash_reader.html&quot;&gt;36kr新闻阅读器&lt;/a&gt;作为基础，我们不难写出更多基于python网络库的小程序。这次我们来写一个简单实用的脚本来获取天气预报，数据来源是&lt;a href=&quot;http://www.weather.com.cn/&quot;&gt;中国天气网&lt;/a&gt;。最终呈现在终端或者命令行的内容类似于:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
6号（今天） 多云 23 ~ 16℃

7号（明天） 小雨转中雨 22 ~ 15℃ 

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;1. 分析网页&lt;/h2&gt;

&lt;p&gt;这次的脚本也是一个Spider，所以第一步当然也是分析网页结构。打开&lt;a href=&quot;http://www.weather.com.cn/&quot;&gt;中国天气网&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;在搜索栏输入城市，这里以上海为例，可以看到地址栏变成了&lt;code class=&quot;highlighter-rouge&quot;&gt;http://www.weather.com.cn/weather/101020100.shtml&lt;/code&gt;. 接着右键点击&lt;code class=&quot;highlighter-rouge&quot;&gt;7天&lt;/code&gt;预报中的&lt;code class=&quot;highlighter-rouge&quot;&gt;今天&lt;/code&gt;，选择&lt;code class=&quot;highlighter-rouge&quot;&gt;Inspect&lt;/code&gt;(检查元素(N))，可以看到这段代码&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;ul&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;t clearfix&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;li&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sky skyid lv2 on&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;6日（今天）&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;big&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;png40 d00&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/big&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;big&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;png40 n00&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/big&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;多云&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;wea&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;多云&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tem&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;span&amp;gt;&lt;/span&gt;23&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;/&lt;span class=&quot;nt&quot;&gt;&amp;lt;i&amp;gt;&lt;/span&gt;16℃&lt;span class=&quot;nt&quot;&gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
...
...
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;第2~7天的内容结构也是这样。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;2. 获取网页内容&lt;/h2&gt;

&lt;h4 id=&quot;section-2&quot;&gt;2.1 利用正则表达式&lt;/h4&gt;

&lt;p&gt;我们利用&lt;code class=&quot;highlighter-rouge&quot;&gt;urllib.request&lt;/code&gt;获取网页内容，然后用&lt;a href=&quot;https://jjayyyyyyy.github.io/2016/10/30/36kr_newsflash_reader.html&quot;&gt;36kr新闻阅读器&lt;/a&gt;中提到的&lt;code class=&quot;highlighter-rouge&quot;&gt;re&lt;/code&gt;模块来”暴力”提取关键信息。所谓&lt;code class=&quot;highlighter-rouge&quot;&gt;re&lt;/code&gt;，就是Regular Expression，即正则表达式。它可以被分为很多类，差异比较可以看&lt;a href=&quot;http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html&quot;&gt;这里&lt;/a&gt;。对于python所用的正则表达式，可以参考&lt;a href=&quot;https://docs.python.org/3/library/re.html&quot;&gt;官方文档&lt;/a&gt;，以及&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;首先，我们引入两个模块:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/urs/bin/enc python3&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;urllib&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;re&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;接着，下载网页内容:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'http://www.weather.com.cn/weather/101020100.shtml'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weekly_weather&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这样，我们就把内容保存在了&lt;code class=&quot;highlighter-rouge&quot;&gt;weekly_weather&lt;/code&gt;。接下来，我们分析第1节中的网页源码，进行正则匹配。观察以后可以发现:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;对于&lt;code class=&quot;highlighter-rouge&quot;&gt;时间&lt;/code&gt;，其结构是这样的: &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;h1&amp;gt;([1-9].*)&amp;lt;/h1&amp;gt;&lt;/code&gt;。其中&lt;code class=&quot;highlighter-rouge&quot;&gt;[1-9]&lt;/code&gt;表示匹配1~9开头的任意数字，&lt;code class=&quot;highlighter-rouge&quot;&gt;.*&lt;/code&gt;表示匹配任意字符串。由此可以匹配出这一天是几号，如(11月)&lt;code class=&quot;highlighter-rouge&quot;&gt;6号&lt;/code&gt;。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;对于&lt;code class=&quot;highlighter-rouge&quot;&gt;天气&lt;/code&gt;，其结构是这样的: &lt;code class=&quot;highlighter-rouge&quot;&gt;.*class=&quot;wea&quot;&amp;gt;(.*)&amp;lt;/p&amp;gt;&lt;/code&gt;，可以匹配出这一天是晴天、多云，或者其他天气。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;对于&lt;code class=&quot;highlighter-rouge&quot;&gt;气温&lt;/code&gt;，其结构是这样的: &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;span&amp;gt;([0-9]*)&amp;lt;/span&amp;gt;/&amp;lt;i&amp;gt;([0-9].*)&amp;lt;/i&amp;gt;&lt;/code&gt;。这样可以匹配出这一天是几度到几度，如&lt;code class=&quot;highlighter-rouge&quot;&gt;23~16℃&lt;/code&gt;。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;因此可以利用python的&lt;code class=&quot;highlighter-rouge&quot;&gt;re.findall()&lt;/code&gt;提取出以上三项内容，并保存于&lt;code class=&quot;highlighter-rouge&quot;&gt;seven_days&lt;/code&gt;，注意不要遗漏换行符&lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;findall&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;r'&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;h1&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;([1-9].*)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n.*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n.*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n.*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;(.*)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n.*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;([0-9]*).*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;([0-9].*)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/i&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weekly_weather&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;re.findall()&lt;/code&gt;会以&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;的形式返回所有匹配的字符串。由于每一天有三个匹配项，因此&lt;code class=&quot;highlighter-rouge&quot;&gt;seven_days&lt;/code&gt;是一个&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;，而其每一个元素都是一个元组&lt;code class=&quot;highlighter-rouge&quot;&gt;tuple&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;最后就是将结果打印在屏幕上了:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;beautifulsoup&quot;&gt;2.2 使用BeautifulSoup&lt;/h4&gt;

&lt;p&gt;此外，还可以使用&lt;a href=&quot;https://www.crummy.com/software/BeautifulSoup/&quot;&gt;BeautifulSoup&lt;/a&gt;这一利器来帮我们解析html，进而得到我们想要的内容。 &lt;code class=&quot;highlighter-rouge&quot;&gt;BeautifulSoup&lt;/code&gt;的特点就是直观，可以通过标签类别、名字和属性等方式获得内容。&lt;/p&gt;

&lt;p&gt;要使用&lt;code class=&quot;highlighter-rouge&quot;&gt;BeautifulSoup&lt;/code&gt;，首先要安装必要的包:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;pip3 install beautifulsoup4
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;接着引入模块:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/urs/bin/enc python3&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;urllib&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;bs4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeautifulSoup&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;然后和之前一样，下载资源:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'http://www.weather.com.cn/weather/101020100.shtml'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;weekly_weather&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;下一步，我们生成一个实例化一个BeautifulSoup对象，用html.parser去解析下载到的html资源，保存为一个有层次结构的soup:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekly_weather&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'html.parser'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;如果分析一下上一节的html代码，我们可以发现&lt;code class=&quot;highlighter-rouge&quot;&gt;class=&quot;t clearfix&quot;&lt;/code&gt;是独一无二的。因此我们可以利用它来寻找7天的天气数据。需要注意的是里面的参数名是&lt;code class=&quot;highlighter-rouge&quot;&gt;class_&lt;/code&gt;而非&lt;code class=&quot;highlighter-rouge&quot;&gt;class&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'ul'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'t clearfix'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;现在seven_days的内容就变成了那一段html代码中去掉所有标签的内容，由于比较长，这里就不贴出来了。直接用&lt;code class=&quot;highlighter-rouge&quot;&gt;print(seven_days)&lt;/code&gt;就能看到。&lt;/p&gt;

&lt;p&gt;观察其特点，我们根据&lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt;将其拆分，并舍去空白段，将有用信息存到一个&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;里面:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seven_days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;至此，我们就可以在屏幕上输出天气信息了:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;section-3&quot;&gt;2.3 练习&lt;/h4&gt;

&lt;p&gt;以上，我们用两种方式完成了获取天气预报的小程序，作为脚本它是足够用了，不过我们还可以稍作改进，在参考github上的代码之前，以下几点就作为练习啦~&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;简化优化代码，抽象成函数，模块化。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果在晚上使用，可以发现屏幕上输出的是明天加后天的天气。那么，如何获取今晚的天气（如气温）呢？&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;参考&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html&quot;&gt;Linux shell 正则表达式(BREs,EREs,PREs)差异比较&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/re.html&quot;&gt;Python3 Library: re&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000&quot;&gt;廖雪峰_python教程_正则表达式&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.crummy.com/software/BeautifulSoup/&quot;&gt;BeautifulSoup&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.weather.com.cn/weather/101020100.shtml&quot;&gt;中国天气网&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014317852443934a86aa5bb5ea47fbbd5f35282b331335000&quot;&gt;廖雪峰_python教程_map/reduce&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Sun, 06 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/06/get_weather.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/06/get_weather.html</guid>
        
        
      </item>
    
      <item>
        <title>5th Nov. 'V for Vendetta'</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;Remember, remember, the 5th of November…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;看到这段台词，是否有一些电影片段从你脑海中浮现呢？&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;没错，就是&lt;code class=&quot;highlighter-rouge&quot;&gt;V for Vendetta&lt;/code&gt;(中译名: &lt;a href=&quot;https://movie.douban.com/subject/1309046/&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;V字仇杀队&lt;/code&gt;&lt;/a&gt;)。今天是11月5日，而&lt;a href=&quot;http://www.imdb.com/list/ls063473199/videoplayer/vi669300249?ref_=hm_hp_i_1&quot;&gt;IMDb&lt;/a&gt;也推出了一个纪念视频:&lt;/p&gt;

&lt;iframe src=&quot;http://www.imdb.com/videoembed/vi669300249&quot; allowfullscreen=&quot;&quot; width=&quot;854&quot; height=&quot;500&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;这部电影虽然是05年的，但是与百年前鲁迅先生的文字一样，很多内容折射到今天仍然是十分贴切。如果你还没看过，不妨加入这个周末的观影列表;)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;另外今天跑了12km，配速还行，但一下子加量这么多，而且路面又比预想的要渣，所以还是有点吃不消。本来想在今天写一篇文章，记录一下如何利用python获取天气预报，有点累写不动了0.0…留给明天吧。&lt;/p&gt;
</description>
        <pubDate>Sat, 05 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/05/V_for_Vendetta.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/05/V_for_Vendetta.html</guid>
        
        
      </item>
    
      <item>
        <title>Rather Be</title>
        <description>&lt;p&gt;歌名: &lt;a href=&quot;http://music.163.com/#/song?id=34218195&quot;&gt;Rather Be&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;今天偶遇这首歌，接着就是一段回忆。&lt;/p&gt;

&lt;p&gt;曾经，微博上有这么一条秒拍视频&lt;a href=&quot;http://video.weibo.com/show?fid=1034:1057a4d06bf228d27eacf0c1ac7644ef&quot;&gt;#每个食物自身最辉煌的瞬间#&lt;/a&gt;。挺好玩的，就转给了某个小盆友，然后得知了这首歌的名字。&lt;/p&gt;

&lt;p&gt;仄仄声声，恍如昨日。&lt;/p&gt;

</description>
        <pubDate>Fri, 04 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/11/04/rather_be.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/11/04/rather_be.html</guid>
        
        
      </item>
    
      <item>
        <title>36kr新闻阅读器</title>
        <description>&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;环境：python3.4 + Chrome + terminal/cmd&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;本文代码可以参考&lt;a href=&quot;https://github.com/jJayyyyyyy/36kr_newsflash_reader&quot;&gt;36kr_newsflash_reader&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这篇文章，我们来学习如何用python写一个轻量级的资讯阅读器。我们的抓取目标是&lt;a href=&quot;http://36kr.com/newsflashes&quot;&gt;36Kr快讯&lt;/a&gt;。可以看到，这是一个比较简洁的资讯网站，上面会更新一些科技时讯(以前质量不错，现在良莠不齐)。不过由于这个网站结构比较清晰，所以比较适合作为我们的第一个栗子。&lt;/p&gt;

&lt;p&gt;我们要写的这个阅读器，可以算是一个蜘蛛(Spider)。Spider的特点是简单轻便目标明确，其实可以理解为针对某个网页的小爬虫(Crawler)。更多相关对比可见参考资料。&lt;/p&gt;

&lt;p&gt;下面开始进入正题。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;1. 分析网页结构&lt;/h2&gt;

&lt;p&gt;首先我们打开36kr快讯的&lt;a href=&quot;http://36kr.com/newsflashes&quot;&gt;主页&lt;/a&gt;。我们看到网站内容结构是这样的：【一行标题+一段简介】。因此我们的目标是：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;抓取【标题和简介】，呈现在命令行或者终端，以此代替浏览器&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;每次仅打印出标题，以便快速浏览&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果需要阅读更多，再输出新闻简介&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;有了目标，我们该怎么开始呢？这还要从浏览器开始说起。我们平时基本是用浏览器看网页。浏览器工作的原理大致是这样：先通过HTTP等协议把内容从服务器取回本地，然后再进行渲染和呈现。我们的阅读器不需要复杂的渲染，只需要从服务器拿回内容，然后简单地输出文本即可。&lt;/p&gt;

&lt;p&gt;那么，上面提到的【标题和简介】从哪里来呢？我们可以使用Chrome的开发者工具来寻找资源。首先按下F12，在选项卡中选择【Network】，然后刷新一下网页，在该选项卡中就能看到浏览器通过网络下载了很多资源。&lt;/p&gt;

&lt;p&gt;在这么多资源中，寻找我们想要的内容有时候比较麻烦。当然，有一种比较简单粗暴的方式：把整个网页下载下来，然后用正则表达式等方式进行提取。也可以专门分析出某个资源的来源，再针对性地下载。对于36kr，详细的寻找资源的过程大家可以当作 &lt;strong&gt;练习1&lt;/strong&gt; (hint: 点击一下网页下方的【浏览更多】，再观察新的资源)。这儿就直接给出两个可以验证的结果:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://36kr.com/newsflashes.json&quot;&gt;地址1&lt;/a&gt; &lt;a href=&quot;http://36kr.com/api/newsflash&quot;&gt;地址2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;我们可以看到，两者都是json形式的数据，内容包含了我们所需的【标题和简介】。其中地址1是比较早的接口。入口2是前段时间发现的，从地址中的这个&lt;code class=&quot;highlighter-rouge&quot;&gt;api&lt;/code&gt;我们可以猜测这是正式的接口，短时间内不会取消。因此我们就用&lt;a href=&quot;http://36kr.com/api/newsflash&quot;&gt;地址2&lt;/a&gt;作为获取资源的入口。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;2. 获取网页内容&lt;/h2&gt;

&lt;p&gt;有了以上的分析作为基础，我们就可以使用python功能强大的网络库，来获取和分析网页内容了。如果有兴趣，可以尝试一个叫做&lt;a href=&quot;https://github.com/kennethreitz/requests&quot;&gt;requests&lt;/a&gt;的神器。不过这次我们就使用&lt;code class=&quot;highlighter-rouge&quot;&gt;python3.4&lt;/code&gt;自带的包(Package)和模块(Module):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;urllib.request&lt;/code&gt; 用于下载资源。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt; 用于解析json数据，也可以配合文件操作，将&lt;a href=&quot;http://36kr.com/api/newsflash&quot;&gt;地址2&lt;/a&gt; 的数据保存为容易观察分析的格式。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我们首先新建一个名为&lt;code class=&quot;highlighter-rouge&quot;&gt;newsflash.py&lt;/code&gt;的文件，然后写入如下内容:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/env python3&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;urllib&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;所谓下载资源，大体上就是一个客户端发出请求，然后服务端进行响应，客户端再接收的过程。我们要做的，就是回到Chrome点开主页资源&lt;code class=&quot;highlighter-rouge&quot;&gt;newsflashes&lt;/code&gt;，结合开发者工具显示的信息，然后用Python来模拟浏览器的行为。&lt;/p&gt;

&lt;p&gt;我们先来构造一个http请求。因为不用登陆，所以简单地利用&lt;code class=&quot;highlighter-rouge&quot;&gt;url+UA&lt;/code&gt;的方式构造请求头即可。&lt;code class=&quot;highlighter-rouge&quot;&gt;url&lt;/code&gt;就是刚才的&lt;code class=&quot;highlighter-rouge&quot;&gt;地址2&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;UA&lt;/code&gt;就是&lt;code class=&quot;highlighter-rouge&quot;&gt;User-Agent&lt;/code&gt;。于是乎:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'http://36kr.com/api/newsflash'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'User-Agent'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;接着我们把这个请求发送出去，并把接收到的响应保存为resp:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;再回到Chrome，我们可以看到成功接收响应的时候会返回一个200的状态码。所以我们可以以此为依据，初步判断请求-响应是否成功:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Status:'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;保存退出后运行，可以看到状态码是200，和Chrome上面一样，说明响应成功。以后在抓取其他网页的时候可能会遇到各种奇怪的问题，有时候用这个状态码可以帮助我们分析解决。下一步，我们把内容读取出来。由于网络上传输的内容都是编码后的bytes类型，我们要将其解码。解码方式可以看到Chrome中写明了是&lt;code class=&quot;highlighter-rouge&quot;&gt;utf-8&lt;/code&gt;。当然，做这些的前提是响应成功，所以我们要加上一行判断：&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Status Error!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这样，内容就保存到&lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt;中了。当然我们也可以将它保存为文件，然后打开看看里面到底是什么东西：&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;保存退出后运行，然后打开&lt;code class=&quot;highlighter-rouge&quot;&gt;data.txt&lt;/code&gt;。对比一下可以发现，里面的内容和&lt;a href=&quot;http://36kr.com/api/newsflash&quot;&gt;地址2&lt;/a&gt;呈现的内容是一样的。至此，我们完成了第一个小目标~&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;3. 解析数据，呈现内容&lt;/h2&gt;

&lt;p&gt;不过现在还有一个比较大的问题。我们所看到的内容，目前还只是一个很长的字符串，很难观察，也不便于关键信息的提取。所以接下来我们将其转化为json格式的数据。首先在最上面导入&lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt;模块:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;json&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;然后修改刚才保存文件的过程:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;json_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'json_data.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;json_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;indent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ensure_ascii&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;再打开&lt;code class=&quot;highlighter-rouge&quot;&gt;json_data.txt&lt;/code&gt;，可以发现它已经整齐地排好格式了。稍加观察，可以发现在&lt;code class=&quot;highlighter-rouge&quot;&gt;data-&amp;gt;items&lt;/code&gt;的每一个元素中，&lt;code class=&quot;highlighter-rouge&quot;&gt;title&lt;/code&gt;是我们想要的标题，&lt;code class=&quot;highlighter-rouge&quot;&gt;description&lt;/code&gt;是新闻的详细描述，而&lt;code class=&quot;highlighter-rouge&quot;&gt;updated_at&lt;/code&gt;是发出新闻的时间。这些就是我们想要的信息。接下来，我们试着将第一条新闻输出到屏幕上:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;news&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'items'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'updated_at'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;detail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'description'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;detail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;保存退出后运行，可以看到屏幕上输出了标题，时间，还有描述。如果我们想要把所有的新闻都打印出来，可以用for循环的方式。另外，一般阅读的时候我们看看标题就好了，如果对某个标题感兴趣，再告诉阅读器来输出细节，包括时间和内容。这样，我们会有更好的阅读体验，不会像刚才一样，屏幕上一堆东西影响阅读。我们回到编辑器，把上一段代码删掉，然后写一个循环:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'items'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;us_input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'q'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;us_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Done!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'d'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;us_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'updated_at'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;news&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'description'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Done!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;然后保存退出再运行，看看效果如何。按下回车可以输出一条新闻标题。输入&lt;code class=&quot;highlighter-rouge&quot;&gt;d&lt;/code&gt;就可以得到时间和详细内容。如果看到一半不想看了，可以用&lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl+c&lt;/code&gt;结束。也可以输入&lt;code class=&quot;highlighter-rouge&quot;&gt;q&lt;/code&gt;退出，屏幕上会打印一个&lt;code class=&quot;highlighter-rouge&quot;&gt;Done!&lt;/code&gt;，表示完成。&lt;/p&gt;

&lt;p&gt;至此，我们这个简单的新闻阅读器已经差不多完成啦。不过我们发现，一次只能看10条新闻。如何才能显示更多呢？这个就当作留给大家的 &lt;strong&gt;练习2&lt;/strong&gt; 吧 (hint: 和练习1有关)~&lt;/p&gt;

&lt;p&gt;最后我们还可以做一下适当的封装，把这些都包裹成函数，只留下接口。代码就不在这儿贴了，请参考 &lt;a href=&quot;https://github.com/jJayyyyyyy/36kr_newsflash_reader&quot;&gt;36kr_newsflash_reader&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;这么二三十行代码就能完成一个简单的新闻阅读器，用python是不是很方便~以后我们还会用python做一些其他的好玩的东西，我们下次再见~&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;参考：&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.admin5.com/article/20080825/100523.shtml&quot;&gt;Spider与Crawler不同点&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/21471960/answer/81061538&quot;&gt;分析动态网页&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://python3-cookbook.readthedocs.io/zh_CN/latest/c06/p02_read-write_json_data.html&quot;&gt;python3-cookbook&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12309269/how-do-i-write-json-data-to-a-file-in-python&quot;&gt;How do I write JSON data to a file in Python?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/18337407/saving-utf-8-texts-in-json-dumps-as-utf8-not-as-u-escape-sequence&quot;&gt;Saving utf-8 texts in json.dumps as UTF8, not as \u escape sequence&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com/&quot;&gt;liaoxuefeng&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/jJayyyyyyy/36kr_newsflash_reader/&quot;&gt;more&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;20161110 更新(补充说明):&lt;/p&gt;

    &lt;p&gt;第2节中，我们用&lt;code class=&quot;highlighter-rouge&quot;&gt;if 200 == resp.status&lt;/code&gt;来判断是否成功响应，虽然能够执行，但其实不是一个好的实践。&lt;/p&gt;

    &lt;p&gt;反例1. 如果服务器直接返回&lt;code class=&quot;highlighter-rouge&quot;&gt;404&lt;/code&gt;的状态码，比如输入错误的地址1: &lt;code class=&quot;highlighter-rouge&quot;&gt;http://36kr.com/newsflash.json&lt;/code&gt;，那么python会直接抛出&lt;code class=&quot;highlighter-rouge&quot;&gt;urllib.error.HTTPError&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;反例2. 如果输入错误的地址2: &lt;code class=&quot;highlighter-rouge&quot;&gt;http://36kr.com/api/newsflashes&lt;/code&gt;，服务器会返回&lt;code class=&quot;highlighter-rouge&quot;&gt;200&lt;/code&gt;的状态码，但是响应的实际内容是一个&lt;code class=&quot;highlighter-rouge&quot;&gt;404&lt;/code&gt;页面，其中肯定木有我们想要的数据。这时候再用&lt;code class=&quot;highlighter-rouge&quot;&gt;json.loads()&lt;/code&gt;就会出现&lt;code class=&quot;highlighter-rouge&quot;&gt;ValueError&lt;/code&gt;，因为内容格式不对。&lt;/p&gt;

    &lt;p&gt;所以，更好的方式是利用&lt;code class=&quot;highlighter-rouge&quot;&gt;try...except...&lt;/code&gt;，参见&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143191375461417a222c54b7e4d65b258f491c093a515000&quot;&gt;这里&lt;/a&gt;。这样，程序运行异常时，会跳到错误处理代码，而不是直接退出。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 30 Oct 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/10/30/36kr_newsflash_reader.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/10/30/36kr_newsflash_reader.html</guid>
        
        
      </item>
    
      <item>
        <title>推荐一首德语歌</title>
        <description>&lt;p&gt;歌名: &lt;a href=&quot;http://music.163.com/#/song?id=34899194&quot;&gt;2:33&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;歌手: &lt;a href=&quot;http://music.163.com/#/artist?id=1055042&quot;&gt;Philipp Dittberner&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;中文歌词翻译: &lt;a href=&quot;http://music.163.com/#/user/home?id=62861396&quot;&gt;@SkyEngineMP&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;昨天网易云音乐给我推送了一首德语歌，听着很不错，于是关注了一下歌词，发现原来是我同学翻译的！中文对照的歌词很有感觉，很好地演绎了德文歌词中重复的语句，而整首歌的翻译也很有味道。&lt;/p&gt;

&lt;p&gt;推荐下这首歌，同时也推荐一下&lt;a href=&quot;http://music.163.com/#/user/home?id=62861396&quot;&gt;@SkyEngineMP&lt;/a&gt; 同学的翻译。你会对德语歌有新的体验 :)&lt;/p&gt;

</description>
        <pubDate>Wed, 26 Oct 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/10/26/%E6%8E%A8%E8%8D%90%E4%B8%80%E9%A6%96%E5%BE%B7%E8%AF%AD%E6%AD%8C.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/10/26/%E6%8E%A8%E8%8D%90%E4%B8%80%E9%A6%96%E5%BE%B7%E8%AF%AD%E6%AD%8C.html</guid>
        
        
      </item>
    
      <item>
        <title>利用js自动填充单选和多选框</title>
        <description>&lt;h2 id=&quot;section&quot;&gt;前言&lt;/h2&gt;

&lt;p&gt;申请某线上机器权限之前要考试。测试后发现该考试题目和选项固定，又因为题目数量很多，正式帐号重做比较麻烦，于是想用脚本自动填充。这篇文章仅作大致记录，可以进行相关扩展。利用python获取答案以及其他细节从略。&lt;/p&gt;

&lt;p&gt;另外，浏览器使用Chrome.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;单选框&lt;/h2&gt;

&lt;div class=&quot;media-body well&quot;&gt;
	&lt;label class=&quot;radio inline&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;question[1]&quot; rel=&quot;1&quot; value=&quot;A&quot; autocomplete=&quot;off&quot; /&gt;A &lt;/label&gt;
	&lt;label class=&quot;radio inline&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;question[1]&quot; rel=&quot;1&quot; value=&quot;B&quot; autocomplete=&quot;off&quot; /&gt;B &lt;/label&gt;
	&lt;label class=&quot;radio inline&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;question[1]&quot; rel=&quot;1&quot; value=&quot;C&quot; autocomplete=&quot;off&quot; /&gt;C &lt;/label&gt;
	&lt;label class=&quot;radio inline&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;question[1]&quot; rel=&quot;1&quot; value=&quot;D&quot; autocomplete=&quot;off&quot; /&gt;D &lt;/label&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;上面是一个四个单选框。以A的选择框为例，右键—审查元素，可以看到关键部分：&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;question[1]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;autocomplete=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;off&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;接下来利用js，在开发者工具中选择Console，逐行输入以下代码，即可依次选中单选题的ABCD：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;single&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[1]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;single&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;sinlge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;sinlge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;single&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;注：Name是唯一的。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;多选框&lt;/h2&gt;

&lt;div class=&quot;media-body well&quot;&gt;
	&lt;label class=&quot;checkbox inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;question[2][0]&quot; rel=&quot;2&quot; value=&quot;A&quot; autocomplete=&quot;off&quot; /&gt;A &lt;/label&gt;
	&lt;label class=&quot;checkbox inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;question[2][1]&quot; rel=&quot;2&quot; value=&quot;B&quot; autocomplete=&quot;off&quot; /&gt;B &lt;/label&gt;
	&lt;label class=&quot;checkbox inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;question[2][2]&quot; rel=&quot;2&quot; value=&quot;C&quot; autocomplete=&quot;off&quot; /&gt;C &lt;/label&gt;
	&lt;label class=&quot;checkbox inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;question[2][3]&quot; rel=&quot;2&quot; value=&quot;D&quot; autocomplete=&quot;off&quot; /&gt;D &lt;/label&gt;
	&lt;label class=&quot;checkbox inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;question[2][4]&quot; rel=&quot;2&quot; value=&quot;E&quot; autocomplete=&quot;off&quot; /&gt;E &lt;/label&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;上面是五个多选框。首先也是审查元素，关键代码如下：&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;question[2][0]&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;autocomplete=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;off&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;在上一节我们看到，单选题中可以利用&lt;code class=&quot;highlighter-rouge&quot;&gt;.click()&lt;/code&gt;或者&lt;code class=&quot;highlighter-rouge&quot;&gt;.checked = 1&lt;/code&gt;两种方式来勾选，效果似乎相同。然而在多选框中，这两种方式就有区别了。从名字来看，前者是模拟鼠标点击，后者是直接编辑状态。在多选框中，如果先勾选一个框，接着再点一下鼠标（相当于两个&lt;code class=&quot;highlighter-rouge&quot;&gt;.click()&lt;/code&gt;），就是取消勾选。如果网页没有缓存，可以使用如下方法:&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[2][0]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[2][1]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[2][2]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[2][3]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementsByName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;question[2][4]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;如果缓存了，可能会出现有的框已经被选中的情况。这时如果用&lt;code class=&quot;highlighter-rouge&quot;&gt;.click()&lt;/code&gt;就会取消选中，而用&lt;code class=&quot;highlighter-rouge&quot;&gt;.checked = 1&lt;/code&gt;则不受影响。所以需要按照实际情况使用。&lt;/p&gt;

&lt;p&gt;有了以上基础，就能扩展出很多自动化脚本啦~&lt;/p&gt;
</description>
        <pubDate>Thu, 20 Oct 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/10/20/%E5%88%A9%E7%94%A8js%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E5%8D%95%E9%80%89%E5%92%8C%E5%A4%9A%E9%80%89%E6%A1%86.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/10/20/%E5%88%A9%E7%94%A8js%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E5%8D%95%E9%80%89%E5%92%8C%E5%A4%9A%E9%80%89%E6%A1%86.html</guid>
        
        
      </item>
    
      <item>
        <title>使用Python处理Excel数据</title>
        <description>&lt;h2 id=&quot;section&quot;&gt;1. 简介&lt;/h2&gt;

&lt;p&gt;这篇文章将会介绍&lt;a href=&quot;https://github.com/python-excel/xlrd&quot;&gt;xlrd&lt;/a&gt;和&lt;a href=&quot;https://github.com/python-excel/xlwt&quot;&gt;xlwt&lt;/a&gt;，并利用它们进行Excel数据的读取和写入，以便实现复杂的但有规律的Excel数据处理逻辑。本文代码和示例托管于&lt;a href=&quot;https://github.com/jJayyyyyyy/python-excel__demo&quot;&gt;GitHub&lt;/a&gt;，可供参考。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/python-excel/xlrd&quot;&gt;xlrd&lt;/a&gt;和&lt;a href=&quot;https://github.com/python-excel/xlwt&quot;&gt;xlwt&lt;/a&gt;是两个基于python的库(Package)，它们能够处理&lt;code class=&quot;highlighter-rouge&quot;&gt;.xls&lt;/code&gt;文件，前者可以读取Excel表格的数据，后者可以新建表格写入数据。&lt;/p&gt;

&lt;p&gt;本文参考了&lt;a href=&quot;https://github.com/python-excel/tutorial&quot;&gt;python-excel tutorial&lt;/a&gt;，并结合实践应用整理而成。内容仅针对数据处理，不包括格式的设置。更多内容可参考&lt;a href=&quot;http://www.python-excel.org/&quot;&gt;python-excel.org&lt;/a&gt;及其&lt;a href=&quot;https://github.com/python-excel&quot;&gt;GitHub&lt;/a&gt;项目页。在此感谢&lt;a href=&quot;https://github.com/cjw296&quot;&gt;cjw296&lt;/a&gt;和&lt;a href=&quot;https://github.com/sjmachin&quot;&gt;sjmachin&lt;/a&gt;两位同学的成果~&lt;/p&gt;

&lt;p&gt;ps: 其文档中存在部分小错误，整体理解即可。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;package&quot;&gt;2. 为什么要用这两个package&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;不知道你有没有这种经历：自己对于Excel的掌握一般，只会用菜单栏的基本功能对表格数据进行处理。但是如果更复杂的处理逻辑就非常蛋疼了，用基本功能很难描述，怎么问度娘都得不到合适的公式，对于VBA也不甚了解（反正我是完全不懂啊=.=）。但是需要处理的数据有很多，一次次地重复劳动简直是一种折磨啊。。&lt;/p&gt;

    &lt;p&gt;这时候就该&lt;code class=&quot;highlighter-rouge&quot;&gt;python-excel&lt;/code&gt;出场了~我们要做的，就是把重复的但是有规律的数据处理动作，抽象成为固定的逻辑顺序，然后用python描述出来，这样即可一劳永逸。以后再遇到这个问题你就可以去泡一杯喝咖啡静静等待电脑帮你完成任务，而不用半天甚至整天都盯着屏幕一行一行地手动处理了。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;python方便灵活容易上手，不需要编译。开发省时，性能损失不大。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;这两个库的接口还行，其他的库没试过，可能有更好的。其次是有方便的接口可以读写某行某列，可以快速定位到某张表，某个单元格，etc…不需要自己重复造轮子。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;3. 如何食用&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;第一步是安装&lt;code class=&quot;highlighter-rouge&quot;&gt;python2.7&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;python3.4&lt;/code&gt;，本文代码基于后者。&lt;/p&gt;

    &lt;p&gt;利用&lt;a href=&quot;https://pypi.python.org/pypi/pip&quot;&gt;pip&lt;/a&gt;安装&lt;code class=&quot;highlighter-rouge&quot;&gt;xlrd&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;xlwt&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip3 install xlrd xlwt
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;然后假设有如下这么一个表格&lt;code class=&quot;highlighter-rouge&quot;&gt;demo_read.xls&lt;/code&gt;&lt;/p&gt;

    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;Name&lt;/th&gt;
          &lt;th style=&quot;text-align: center&quot;&gt;Age&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;Emily&lt;/td&gt;
          &lt;td style=&quot;text-align: center&quot;&gt;10&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;Bob&lt;/td&gt;
          &lt;td style=&quot;text-align: center&quot;&gt;11&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;Xiaoming&lt;/td&gt;
          &lt;td style=&quot;text-align: center&quot;&gt;9&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;Monika&lt;/td&gt;
          &lt;td style=&quot;text-align: center&quot;&gt;7&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;Steve&lt;/td&gt;
          &lt;td style=&quot;text-align: center&quot;&gt;8&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;

    &lt;p&gt;&lt;br /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;读取数据&lt;/p&gt;

    &lt;p&gt;首先引入模块&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;xlrd&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_workbook&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;其次实例化一个&lt;code class=&quot;highlighter-rouge&quot;&gt;open_workbook&lt;/code&gt;对象，从&lt;code class=&quot;highlighter-rouge&quot;&gt;demo_read.xls&lt;/code&gt;读取文件信息&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;wb&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open_workbook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'demo_read.xls'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;读取第一张表，得到表单名字，总行数和总列数&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sheets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;total_rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nrows&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;total_cols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ncols&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;得到某个单元格的值，第2行第3列单元格坐标为(1, 2)&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cell_value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;写入数据&lt;/p&gt;

    &lt;p&gt;首先引入模块&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;xlwt&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Workbook&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;其次实例化一个&lt;code class=&quot;highlighter-rouge&quot;&gt;Workbook&lt;/code&gt;对象，添加新表单&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;book&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sheet_new&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;book&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Sheet_new'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;结合3.2节，如果我们要复制一个表单，可以这么做&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nrows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ncols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheet_0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# write into the new sheet&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sheet_new&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;最后保存&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;book&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'demo_write.xls'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;需要说明的是，读和写是两种不同的对象，只能通过中间变量联系，也就是3.3节中的&lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt;. 另外，如果是在windows下开发，有时候会出现莫名其妙的编码问题（cmd打印的时候）。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;如果想让电脑更懂你，就需要在你的代码中结合条件判断，循环语句，字符串的&lt;code class=&quot;highlighter-rouge&quot;&gt;len()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;strip()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;lstrip()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;rstrip()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;split()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;replace()&lt;/code&gt;等方法，如果掌握了&lt;code class=&quot;highlighter-rouge&quot;&gt;re&lt;/code&gt;神器就更好了~&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;下面一章，我们就用实例来说明如何让电脑更懂你的需求。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;4. 实例&lt;/h2&gt;

&lt;p&gt;原来是结合工作任务写的一些脚本，由于涉及保密数据，所以需要处理一下。过两天更新。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;5. 参考&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/python-excel/tutorial&quot;&gt;python-excel tutorial&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.liaoxuefeng.com&quot;&gt;liaoxuefeng&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;写于20161018&lt;/p&gt;

&lt;p&gt;20161023第一次完善和上传&lt;/p&gt;

&lt;p&gt;20161024第二次更新：增加表格，增加参考文献&lt;/p&gt;

</description>
        <pubDate>Tue, 18 Oct 2016 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/10/18/%E4%BD%BF%E7%94%A8Python%E5%A4%84%E7%90%86Excel%E6%95%B0%E6%8D%AE.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/10/18/%E4%BD%BF%E7%94%A8Python%E5%A4%84%E7%90%86Excel%E6%95%B0%E6%8D%AE.html</guid>
        
        
      </item>
    
  </channel>
</rss>
